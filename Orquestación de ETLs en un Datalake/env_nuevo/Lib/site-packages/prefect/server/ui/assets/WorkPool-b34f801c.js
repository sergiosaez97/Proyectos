import{d as $,y as x,E,bD as G,R as U,c as t,S as q,o as z,az as D,a as s,b as i,w as a,g as w,e as d,j as l,u as e,bE as F,bF as m,aE as O,bG as V,bH as Y,q as j}from"./index-1446041e.js";import{u as A}from"./usePageTitle-7181ff86.js";const J=$({__name:"WorkPool",setup(H){const f=x(),n=E("workPoolName"),_=G(),b={interval:3e5},p=U(f.workPools.getWorkPoolByName,[n.value],b),o=t(()=>p.response),u=t(()=>{var r;return((r=o.value)==null?void 0:r.type)==="prefect-agent"}),v=t(()=>[{label:"Details",hidden:q.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:!_.access.workers||u.value}]),{tab:c,tabs:P}=z(v),y=t(()=>o.value?`Your work pool ${o.value.name} is ready to go!`:"Your work pool is ready to go!"),g=t(()=>{var r;return`prefect ${u.value?"agent":"worker"} start --pool ${(r=o.value)==null?void 0:r.name}`}),B=t(()=>`Work pools organize work that ${u.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:C}=D({workPools:{name:[n.value]}}),W=t(()=>o.value?`Work Pool: ${o.value.name}`:"Work Pool");return A(W),(r,k)=>{const R=s("CodeBanner"),h=s("p-tabs"),N=s("p-layout-well"),S=s("p-layout-default");return o.value?(d(),i(S,{key:0},{header:a(()=>[l(e(F),{"work-pool":o.value,onUpdate:e(p).refresh},null,8,["work-pool","onUpdate"])]),default:a(()=>[o.value?(d(),i(N,{key:0,class:"work-pool"},{header:a(()=>[l(R,{command:g.value,title:y.value,subtitle:B.value},null,8,["command","title","subtitle"])]),well:a(()=>[l(e(m),{alternate:"","work-pool":o.value},null,8,["work-pool"])]),default:a(()=>[l(h,{selected:e(c),"onUpdate:selected":k[0]||(k[0]=T=>j(c)?c.value=T:null),tabs:e(P)},{details:a(()=>[l(e(m),{"work-pool":o.value},null,8,["work-pool"])]),runs:a(()=>[l(e(O),{"flow-run-filter":e(C)},null,8,["flow-run-filter"])]),"work-queues":a(()=>[l(e(V),{"work-pool-name":e(n)},null,8,["work-pool-name"])]),workers:a(()=>[l(e(Y),{"work-pool-name":e(n)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):w("",!0)]),_:1})):w("",!0)}}});export{J as default};
